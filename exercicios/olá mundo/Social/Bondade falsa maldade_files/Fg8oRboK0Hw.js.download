if (self.CavalryLogger) { CavalryLogger.start_js(["iaMGisI"]); }

__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"},{defaultValue:!1,kind:"LocalArgument",name:"shouldEnableMWStoriesEntrypoint"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{condition:"shouldEnableMWStoriesEntrypoint",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("MWChatContact_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWLSPreloadThreadForContact.re",["MWLSPreloadThreadForContact.bs"],(function(a,b,c,d,e,f){a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser;f.usePreloaderForUser=a}),null);
__d("LSThreadAttributionStore.re",["LSThreadAttributionStore.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSThreadAttributionStore.bs").setSource,a,c);return a};f.setSource=a}),null);
__d("MWChatContact.react",["CometRelay","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSThreadAttributionStore.re","MWChatContact_profile.graphql","MWChatContact_viewer.graphql","MWLSPreloadThreadForContact.re","MWThreadAddOnPrimary.re","StoriesGating","TetraListCell.react","XCometActiveContactsControllerRouteBuilder","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","gkx","qex","react","recoverableViolation","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("MWChatTabContainer.bs").__setRef("MWChatContact.react"),m=c("JSResourceForInteraction")("MWV2ChatTab.bs").__setRef("MWChatContact.react");function a(a){var e=a.entryPoint,f=a.openTabForUser,g=a.preventLocalNavigation;g=g===void 0?!0:g;var n=a.profile,o=a.selected;o=o===void 0?!1:o;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_viewer.graphql"),a);var p=c("qex")._("971346");p=p===!0?(a==null?void 0:(p=a.presence_view_side_settings)==null?void 0:p.is_active_status_viewable)===!0:(a==null?void 0:a.chat_visibility)===!0;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContact_profile.graphql"),n);n=a.availability;var q=a.id,r=a.last_active_time,s=a.name,t=a.profile_picture,u,v="none";a=(a=a.story_bucket)==null?void 0:a.nodes;a=a?a[0]:null;if(a!=null){var w,x=a.id;w=(w=a.first_story_to_show)==null?void 0:w.id;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:(a=a.story_card_seen_state)==null?void 0:a.is_seen_by_viewer;a!=null&&(v=a?"seen":"unseen");if(v!=="none"&&x!=null&&w!=null){a=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:x,card_id:w,view_single:!0});u={prefetchQueriesOnHover:!0,url:a}}}x=k(function(){c("gkx")("1512630")&&d("JSScheduler").scheduleSpeculativeCallback(function(){c("gkx")("4338")?m.preload():l.preload()})},[]);var y=c("MWLSPreloadThreadForContact.re").usePreloaderForUser();w=k(function(){q!=null&&y(q)},[q,y]);a=c("useCometPreloader")("button",x,w);var z=a[0];x=a[1];var A=a[2],B=a[3];w=k(function(a){A!=null&&A(a),q!=null&&f(q,!1)},[A,q,f]);a=k(function(a){A!=null&&A(a),q!=null&&c("LSThreadAttributionStore.re").setSource(q,e)},[A,q,e]);var C=k(function(a){z(a),B(!0)},[z,B]);t=t==null?void 0:t.uri;if(q==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(s==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(t==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");n=n==="ACTIVE";p=p?r:void 0;r=d("StoriesGating").shouldEnableMWStoriesEntrypoint()?{addOn:n?{type:"availabilityBadge"}:p!=null?{border:"web-wash",time:p,type:"lastActiveTimeBadge"}:void 0,linkProps:u!=null?u:void 0,shape:"circle",size:36,source:{uri:t},storyStatus:v,type:"profile-photo"}:c("MWThreadAddOnPrimary.re").get({isThreadActive:n,lastActiveTime:p,size:36,threadImages:[t],threadTitle:void 0});v=c("gkx")("1950");n=v?c("XCometActiveContactsControllerRouteBuilder"):c("XCometMessengerControllerRouteBuilder");p=c("CurrentEnvironment").facebookdotcom?n.buildURL({thread_key:q}):(v?"/active":"")+"/t/"+q+"/";return j.jsx(c("TetraListCell.react"),{addOnPrimary:r,disabled:!1,headline:s,level:4,linkProps:{preventLocalNavigation:g,url:p},onHoverIn:C,onHoverOut:x,onPress:g?w:a,selected:o,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);